"use strict";var t=function(t){return t&&t.__esModule?t["default"]:t},s=require("../bt/main"),e=s.Status,r=s.createBehavior,a=s.factory,o=t(require("path")),i=t(require("../get-asset-uri"));module.exports=r({constructor:function(t,s,e){var r=t.split("://");1==r.length?t=o.join("behaviors",t):(t=r[0]+"://behaviors/"+r[1],this.assetPack=r[0]),this.path=t,this.getNotepad=s,this.setResult=e},start:function(){var t=this;return this.status=e.IN_PROGRESS,i(this.path,this.getAssetPack(),function(s){var r={notepad:t.getNotepad()};t.assetPack&&(r.assetPack=t.assetPack),r.blackboard=t.getBlackboard(),t.root=a.create(s,r),t.status=t.root.start()?t.status:e.FAILED}),!0},stop:function(){this.root&&this.root.stop()},update:function(){if(this.status===e.FAILED)return this.root&&this.root.stop(),this.status;if(void 0===this.root)return this.status;var t=this.root.update();return t===e.SUCCEEDED&&this.setResult(this.root.result),t}}),a.addBehavior(module);