"use strict";var t=require("../../bt/factory"),i=require("../../bt/base"),o=i.Status,n=i.createDecorator;module.exports=n({constructor:function(t,i){this.init=t,this.conditional=i,this.doInit=!0},start:function(){return this.doInit&&(this.init(),this.doInit=!1),!0},stop:function(){},update:function(t){return t===o.SUCCEEDED&&this.conditional()?this.getBehavior().start()?o.IN_PROGRESS:o.FAILED:(this.doInit=t!==o.IN_PROGRESS,t)}}),t.addBehavior(module);