"use strict";var t=function(t){return t&&t.__esModule?t["default"]:t},r=require("../bt/main"),e=r.Status,o=r.createDecorator,s=r.factory,i=t(require("./succeed-on-listen-js")),u=t(require("../get-project-root")),a=t(require("fs")),n=t(require("path"));module.exports=o({constructor:function(t,r,o){this.getOptions=t,this.rulePath=r,this.onResult=o,this.status=e.INVALID},start:function(){var t=this;this.status=e.IN_PROGRESS;var r=function(r){u(function(e){var o=n.join(e,"rules",t.rulePath);a.readFile(o,"utf8",function(t,e){t&&console.error("Rule file does not exist: "+o),r(e)})})};return this.decorator=i("",this.getOptions,r,this.onResult),this.decorator.start()},stop:function(){this.decorator&&this.decorator.stop(),this.decorator=void 0},update:function(t){if(this.decorator){var r=this.decorator.update(t);return r===e.SUCCEEDED&&(this.decorator=void 0),r}return this.status}}),s.addBehavior(module);