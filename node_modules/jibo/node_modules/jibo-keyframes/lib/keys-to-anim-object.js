"use strict";function e(e,n){o.readFile(e,"utf8",function(a,t){if(a)console.log('\nError parsing "'+e+'". '+a+"\n"),process.exit(1);else{var o=JSON.parse(t);i.onLoad(o);var u=s.basename(e),c=r(o,u);n(c)}})}function n(e){var n=void 0;try{n=JSON.parse(o.readFileSync(e,"utf8")),i.onLoad(n)}catch(a){console.log('\nError parsing "'+e+'". '+a+"\n"),process.exit(1)}var t=s.basename(e);return r(n,t)}function r(e,n){t.header.creationTime=(new Date).getTime(),t.header.version=e.version,t.content.name=n,t.content.channels=[],t.content.events=[];for(var r={},a=0;a<e.duration;a++){var o=u.framesToSeconds(a,e.framerate),s=c.evaluateAllDOFLayers(e,i,o),l=c.evaluateAllEventLayers(e,i,o);for(var m in s)"undefined"==typeof r[m]?(r[m]={dofName:m,length:e.duration/e.framerate,times:[o],values:[s[m]]},t.content.channels.push(r[m])):(r[m].times.push(o),r[m].values.push(s[m]));for(var v=0;v<l.length;v++){var f={time:o,eventName:l[v].name,payload:l[v].payload};t.content.events.push(f)}}return t}var a=function(e){return e&&e.__esModule?e["default"]:e},t={header:{fileType:"Animation",version:"0.001",creationTime:1418336756906},content:{name:"AnythingElse_01.dae",channels:[],events:[]}},o=a(require("fs")),s=a(require("path")),i=a(require("./jibo-keyframe-info")),u=a(require("./channels.js")),c=a(require("./runtime.js"));module.exports={keysToAnimObject:n,keysToAnimObjectAsync:e,keysObjToAnimObject:r};